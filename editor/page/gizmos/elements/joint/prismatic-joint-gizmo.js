"use strict";const e=require("./joint-gizmo");module.exports=class extends e{createAnchorGroup(){let e=this._root.group();return e.path().plot("\n                M -8 -8 L 0 -7 L 8 -8 L 7 0 L 8 8 L 0 7 L -8 8 L -7 0\n                Z\n            ").fill("none"),e.rect(5,5).stroke("none").center(0,0),e}createToolGroup(){let e=this._root.group(),t=e.line().stroke({width:2,color:"#4793e2",opacity:.5}),o=e.line().stroke({width:2,color:"#4793e2",opacity:.5}),r=e.line().stroke({width:2,color:"#4793e2",opacity:.5});return e.plot=(l=>{if(this.target.enableLimit){t.plot(l.lowerPos.x,l.lowerPos.y,l.upperPos.x,l.upperPos.y);let s=l.upperPos.sub(l.lowerPos).normalizeSelf(),i=s.y;s.y=-s.x,s.x=i;let a=s.mul(10);o.plot(l.lowerPos.x+a.x,l.lowerPos.y+a.y,l.lowerPos.x-a.x,l.lowerPos.y-a.y);let p=s.mul(20);r.plot(l.upperPos.x+p.x,l.upperPos.y+p.y,l.upperPos.x-p.x,l.upperPos.y-p.y),e.show()}else e.hide()}),e}createArgs(){let t=e.prototype.createArgs.call(this);if(this.target.enableLimit){let e=cc.vmath.mat4.create();this.node.getWorldMatrix(e),e.m12=e.m13=0;let o=cc.v2(this.target.lowerLimit,0),r=cc.v2(this.target.upperLimit,0);cc.vmath.vec2.transformMat4(o,o,e);let l=o.mag();cc.vmath.vec2.transformMat4(r,r,e);let s=r.mag(),i=this.target.localAxisA.normalize();i.y*=-1;let a=i.mul(l),p=i.mul(s);t.lowerPos=t.anchor.add(a),t.upperPos=t.anchor.add(p)}return t}};