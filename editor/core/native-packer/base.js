"use strict";const e=require("fire-path"),i=require("fire-fs");module.exports=class{constructor(e){this.options=e}ensureFile(e,s){i.existsSync(s)||i.copySync(e,s)}addRequireToMainJs(s){let r=e.join(this.options.dest,"main.js"),n=i.readFileSync(r,"utf-8"),t=e.basename(s);-1==n.indexOf(t)&&(n=n.replace(/else if\s*\(window.jsb\)\s*\{[^\}]+}/,e=>e=e.replace(/window.boot\(\)/,e=>`require('${s}')\n    `+e)),i.writeFileSync(r,n))}};