"use strict";const r=require("fs"),e=require("path"),i=require("../mkdirs"),n=require("../remove");function t(t,c){c=c||function(){},r.readdir(t,(r,o)=>{if(r)return i.mkdirs(t,c);o=o.map(r=>e.join(t,r)),function r(){const e=o.pop();if(!e)return c();n.remove(e,e=>{if(e)return c(e);r()})}()})}function c(t){let c;try{c=r.readdirSync(t)}catch(r){return i.mkdirsSync(t)}c.forEach(r=>{r=e.join(t,r),n.removeSync(r)})}module.exports={emptyDirSync:c,emptydirSync:c,emptyDir:t,emptydir:t};