"use strict";const e=require("graceful-fs"),r=65536,n=new Buffer(r);module.exports=function(t,s,c){const i=c.overwrite,o=c.errorOnExist,f=c.preserveTimestamps;if(e.existsSync(s)){if(!i){if(o)throw new Error(`${s} already exists`);return}e.unlinkSync(s)}const y=e.openSync(t,"r"),S=e.fstatSync(y),u=e.openSync(s,"w",S.mode);let m=1,a=0;for(;m>0;)m=e.readSync(y,n,0,r,a),e.writeSync(u,n,0,m),a+=m;f&&e.futimesSync(u,S.atime,S.mtime),e.closeSync(y),e.closeSync(u)};