"use strict";const e=require("graceful-fs"),t=require("os"),i=require("path");module.exports={hasMillisRes:function(n){let r=i.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));r=i.join(t.tmpdir(),r);const o=new Date(1435410243862);e.writeFile(r,"https://github.com/jprichardson/node-fs-extra/pull/141",t=>{if(t)return n(t);e.open(r,"r+",(t,i)=>{if(t)return n(t);e.futimes(i,o,o,t=>{if(t)return n(t);e.close(i,t=>{if(t)return n(t);e.stat(r,(e,t)=>{if(e)return n(e);n(null,t.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let n=i.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));n=i.join(t.tmpdir(),n);const r=new Date(1435410243862);e.writeFileSync(n,"https://github.com/jprichardson/node-fs-extra/pull/141");const o=e.openSync(n,"r+");return e.futimesSync(o,r,r),e.closeSync(o),e.statSync(n).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,i,n,r){e.open(t,"r+",(t,o)=>{if(t)return r(t);e.futimes(o,i,n,t=>{e.close(o,e=>{r&&r(t||e)})})})}};